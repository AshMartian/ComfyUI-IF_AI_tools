{
  "last_node_id": 84,
  "last_link_id": 129,
  "nodes": [
    {
      "id": 75,
      "type": "LoadImage",
      "pos": [
        640,
        222
      ],
      "size": [
        315,
        314.0000228881836
      ],
      "flags": {},
      "order": 0,
      "mode": 2,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [],
          "shape": 3
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "00029.jpg",
        "image"
      ]
    },
    {
      "id": 76,
      "type": "Note",
      "pos": [
        667,
        122
      ],
      "size": [
        210,
        59.629145258865435
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "CTRL+M to unmute again to mute back"
      ],
      "color": "#565656",
      "bgcolor": "#424242"
    },
    {
      "id": 79,
      "type": "VAELoader",
      "pos": [
        1105,
        319
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            128
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAELoader"
      },
      "widgets_values": [
        "madebyollin.bin"
      ]
    },
    {
      "id": 77,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1104,
        181
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            119
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            120,
            123
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": null,
          "shape": 3,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "SDXL/ProteusV0.4.safetensors"
      ]
    },
    {
      "id": 80,
      "type": "CLIPTextEncode",
      "pos": [
        1507,
        315
      ],
      "size": [
        210,
        54
      ],
      "flags": {
        "collapsed": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 120
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 122,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            124
          ],
          "shape": 3
        }
      ],
      "title": "+C",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ]
    },
    {
      "id": 81,
      "type": "CLIPTextEncode",
      "pos": [
        1510,
        366
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {
        "collapsed": true
      },
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 123
        },
        {
          "name": "text",
          "type": "STRING",
          "link": 121,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            125
          ],
          "shape": 3
        }
      ],
      "title": "-C",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        ""
      ]
    },
    {
      "id": 83,
      "type": "VAEDecode",
      "pos": [
        2008,
        344
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {
        "collapsed": true
      },
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 127
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 128,
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            129
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 74,
      "type": "IF_ChatPrompt",
      "pos": [
        626,
        582
      ],
      "size": [
        385.8101024780276,
        640
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": null,
          "slot_index": 0
        },
        {
          "name": "context",
          "type": "STRING",
          "link": null,
          "widget": {
            "name": "context"
          }
        }
      ],
      "outputs": [
        {
          "name": "Question",
          "type": "STRING",
          "links": null,
          "shape": 3
        },
        {
          "name": "Response",
          "type": "STRING",
          "links": [
            116
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "Negative",
          "type": "STRING",
          "links": [
            117
          ],
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "Context",
          "type": "STRING",
          "links": null,
          "shape": 3,
          "slot_index": 3
        }
      ],
      "properties": {
        "Node name for S&R": "IF_ChatPrompt"
      },
      "widgets_values": [
        "female cyber dolphin, cover\n\n",
        "localhost",
        "11434",
        "ollama",
        "impactframes/ifai_promptmkr_dolphin_phi3:latest",
        "IF_PromptMKR",
        "",
        2048,
        1,
        40,
        0.2,
        1.1,
        "<|end_of_text|>",
        111657315913148,
        "randomize",
        true,
        "Fullbodyshot",
        "Cinematic",
        "Standard",
        true,
        10,
        false,
        true
      ]
    },
    {
      "id": 78,
      "type": "KSampler",
      "pos": [
        1673,
        178
      ],
      "size": {
        "0": 315,
        "1": 262
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 119
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 124,
          "slot_index": 1
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 125,
          "slot_index": 2
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 126,
          "slot_index": 3
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            127
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        462835098001531,
        "randomize",
        50,
        6.01,
        "dpmpp_2m_sde_gpu",
        "karras",
        1
      ]
    },
    {
      "id": 84,
      "type": "SaveImage",
      "pos": [
        1664,
        492
      ],
      "size": [
        315,
        270
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 129
        }
      ],
      "properties": {},
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 72,
      "type": "Note",
      "pos": [
        1076,
        846
      ],
      "size": [
        546.9206084197994,
        661.6988395410152
      ],
      "flags": {
        "pinned": false
      },
      "order": 5,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "\n                                ▄                                               \n                             ▌  █  █                                            \n                            █▀ █▀ ▄▀                                            \n                           ╘▌  █  █     ,▄▄▄                                    \n                                       █▀▒▒▒█ ,▄▓▓▄                             \n                      ╓▄▀▀▀\"   ▀▀▀██&▄▄█▄▄▄█▌▄▀▄▀▒▒▌                            \n                    ,▄█▀▀▀█▄       █▌▒▒▒▒▒▒▒▒▒▒▀▒▄█                             \n                   ▄█▒╢╢╢╢╢▒▀▀▀▀▀▀▀▒▒▒▄▄▄▄▒▒▒▒▒▒▒▀▄                             \n                  ▐█╫█▓╢╣▓█▒╢╢╢▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╢▒▒█                            \n                  █▒╢╢╢█▌╢╢╢╢╢╢╣▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╣▒▒▒▒█                           \n                  █╣╢╢╢█▌╢╢╢╢╢╢╣▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▐▌                          \n                  █▒╢╢╢▓▌╢╢╢╢╢╢▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█                          \n                  ╘█╢╢╢▓█▒▒╢╢╢╣▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▐▌                         \n                   ▀█▒▀▒▒▒▀▒╢╣▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╢▒▒▒▒█                         \n                   ,,▀██▄▄▄▄▄▄▄▄▄▄▄█▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█║║║╖╖╖╖╓,                \n            ,╓╗║╢▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▐▌▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█▒▒▒▒▒▒▒▒▒▒▒╢║╗╖          \n         ╓╢▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒█▌▒▒╫▒╣▒▒▒▒▒▒▒▒▒▒▒▒▒▒█▒▒╙▒▒▒▒▒▒▒▒▄▒▒▒▒║╖       \n       ╖▒▒▒▒▒▒▒█▀█▀▀█▄▒▒▒▒▒▒▒▒║╙▒█▄▄▒▒▒▒▒▒▒▒▒▒▒▒▒▄▄▄▄█▀░╢`║▒▒▒▒▄█▀▀▀█▒▒▒▒▒╖     \n      ║▒▒▒▒▒▒▒█▒▒▒▒▒╣█▌▒▒▒▒▒▒▒╢╖╣╙╜╜▒▒▒▒▀▀▀▀▒▒▒▒▒▒▒╜╜╙`║▒╢▒▒▒▒▐▌▒▒▒▒▒█▌▒▒▒▒╖    \n     ║▒▒▒▒▒▒╜╙▀▀█▓███▀▒▒▒▒▒▄▄▄▄▄▒▒▒║║║║▒▒▒▒▒╖╥╗╗@║║║▒▒▒▒▒▒▒▒▒╝▒▀█▓███▀▒╜ ▒▒▒    \n     ]▒▒▒▒▒▒▒║╗╖╓▒▒╖╓╓╖▒▒▄█▒▒▒▒▒█▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒║╖╖▒▒▒▒▒╖╗║▒▒▒▒    \n      ║▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╜▒▀█████▀▒ ║▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╢     \n       ╙║▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╢╗╖╖▒▒▒▒▒║▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╜`      \n          ╙╜╢▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒╣╜╜\"          \n                `╙╙╙╜╝╝╝╜╜╝╝╝╝╜╨╜╜╜╜╜╜╝╝╜╨╨╜╝║║║║║║╝╨╨╝╝╝╜╙╙\"`                 \n _ _____ _____ _    _           _     \n| |   __|  _  | |  | |_ ___ ___| |___ \n| |   __|     | |  |  _| . | . | |_ -|\n|_|__|  |__|__|_|  | | |___|___|_|___|\n                   |__|               \n\nI recommend ollama but you can use kobold, oobaboga and lm studio or use groq and anthropic \ncosedai is available but I might remove it soon and don't recommend it\nhttps://github.com/ollama/ollama/releases\nollama.com\n\nIF you like my models tutorials etc.. If possible please consider helping me out. I want to get a new computer so that I can work and bring better things faster and spend less renting\nhttps://ko-fi.com/impactframes\n\npatreon.com/ImpactFrames \n\nPlease star the repo and support my work links bellow to make updates updates come quicker \nhttps://github.com/if-ai/ComfyUI-IF_AI_tools\n\nto watch tutorials\n\nJoin the Impact Frames fam! Subscribe now: https://youtube.com/@impactframes?si=DrBu3tOAC2-YbEvc\n\nhttps://www.youtube.com/@impactframes\n\nthis tool is also available for SD webui https://github.com/if-ai/IF_prompt_MKR\n\n"
      ],
      "color": "#595959",
      "bgcolor": "#454545"
    },
    {
      "id": 82,
      "type": "EmptyLatentImage",
      "pos": [
        1450,
        456
      ],
      "size": [
        210,
        106
      ],
      "flags": {
        "collapsed": false
      },
      "order": 6,
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            126
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        920,
        1024,
        4
      ]
    },
    {
      "id": 61,
      "type": "IF_DisplayText",
      "pos": [
        1029,
        420
      ],
      "size": [
        404.3112246221499,
        172.19913120021374
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 116,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            122
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IF_DisplayText"
      },
      "widgets_values": [
        "",
        "best-quality, professional, model-shoot-style, full-body, : 1.8 meters tall, sleek body, metallic scales, glowing eyes, fins, tail fin, streamlined shape, aerodynamic design, propulsion system, advanced technology, underwater habitat, aquatic environment, bioluminescent patterns, mesmerizing movements, graceful swimming, captivating gaze, human-like intelligence, curiosity, exploration, discovery, deep sea adventure, marine life interaction, environmental conservation efforts, eco-friendly materials, sustainable energy sources, futuristic artistry, digital rendering, vivid colors, immersive experience, 8K resolution, HDR display, cinematic quality. Best quality, professional, Portrait, photo shoot,"
      ],
      "color": "#595959",
      "bgcolor": "#454545"
    },
    {
      "id": 73,
      "type": "IF_DisplayText",
      "pos": [
        1033,
        634
      ],
      "size": [
        400.0243387228388,
        165.41906492028772
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "link": 117,
          "widget": {
            "name": "text"
          }
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            121
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "IF_DisplayText"
      },
      "widgets_values": [
        "",
        "lowres,  text,  error,  cropped,  worst quality,  low quality,  jpeg artifacts,  ugly,  duplicate,  morbid,  mutilated,  out of frame,  mutation,  deformed,  blurry,  dehydrated,  bad anatomy,  bad proportions,  disfigured, username,  watermark,  signature, backgound out of focus, black and white,  monochrome"
      ],
      "color": "#595959",
      "bgcolor": "#454545"
    },
    {
      "id": 15,
      "type": "Note",
      "pos": [
        67,
        654
      ],
      "size": [
        522.9615355651854,
        460.4704049023435
      ],
      "flags": {},
      "order": 7,
      "mode": 2,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "INSTRUCTIONS SD MODE: \n\n-Select SD mode on the last switch mode \n-Recommended to unload the model\n-Select clear history but maybe in some cases keeping history is desired you will need big max tokens depending on the model llama3 can handle less than 8K\n-Select presets for negative prompt, style and embellishments (you can create your own by editing the json files)\n-select randomness base on temperature or seed \nyou can select fix seed etc..\nStop the generation different models have different stopping tokens dolphin uses <|im_end|>, llama3 <|end_of_text|> since I use Alpaca, ### Response: should work too or ### Assistant: \n-repeat penalty prevents words from repeating \n-top_p this control the token sampling base on  the cumulative probability of tokens mass (lower values might get unexpected tokens but be more creative while the inverse might give more coherent response) values between 0.1-0.95 \n-top_k selects the top k are tokens with the highest probabilities on the distribution output at each timestep during generation a mid value between 20 and 50 usually helps balance the responses but again is similar to top p where the higher the number it gets more deterministic the lower it gets more creative\n-temperature control the randomness of the response  goes from 0-2 a lower value like 0.2 will give very strict output for creative prompts 0.7-1.2 might work well above that starts to become wild but experiment your own settings\n-Max Tokens this is the amount of tokens allowed to be generated on the response and can be up to the maximum of the model capacity minus the the question, message history, context and assistant length so probs be bigger. A token is more or less  equivalent to a silabel or roughly 3 times the amount of word in your message.\n-Assistant is a system prompt defining the AI personality and behaviour you can edit the json files to make your own this can make or break the model performance\n-Model this will get populated with all the models available for the llm engine\n-port \n-base_ip the ip address of the machine that is running ollama you can use another machine on your network or even a remote computer (I recommend tailscale and brevdev)\n-Image will use the image for the response \n-context ollama only for now it keeps the history \n-enter prompt\nINSTRUCTION CHAT: \nComing soon for now is about the same as SD but keeping history I am working on long term memory and reag tools "
      ],
      "color": "#595959",
      "bgcolor": "#454545"
    }
  ],
  "links": [
    [
      116,
      74,
      1,
      61,
      0,
      "STRING"
    ],
    [
      117,
      74,
      2,
      73,
      0,
      "STRING"
    ],
    [
      119,
      77,
      0,
      78,
      0,
      "MODEL"
    ],
    [
      120,
      77,
      1,
      80,
      0,
      "CLIP"
    ],
    [
      121,
      73,
      0,
      81,
      1,
      "STRING"
    ],
    [
      122,
      61,
      0,
      80,
      1,
      "STRING"
    ],
    [
      123,
      77,
      1,
      81,
      0,
      "CLIP"
    ],
    [
      124,
      80,
      0,
      78,
      1,
      "CONDITIONING"
    ],
    [
      125,
      81,
      0,
      78,
      2,
      "CONDITIONING"
    ],
    [
      126,
      82,
      0,
      78,
      3,
      "LATENT"
    ],
    [
      127,
      78,
      0,
      83,
      0,
      "LATENT"
    ],
    [
      128,
      79,
      0,
      83,
      1,
      "VAE"
    ],
    [
      129,
      83,
      0,
      84,
      0,
      "IMAGE"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "info": {
      "name": "IF_Chat_Avatar",
      "author": "",
      "description": "",
      "version": "1",
      "created": "2024-04-10T13:48:15.400Z",
      "modified": "2024-04-17T02:30:35.840Z",
      "software": "ComfyUI"
    }
  },
  "version": 0.4
}